#### 魔王題：大老二撲克牌遊戲


##### 難度：★★☆☆☆

魔王對冒險者們的喊話 
> 各位冒險者們好！我們已經學會了三個設計模式了：策略模式 (Strategy Pattern)、樣板方法 (Template Method) 以及責任鍊模式 (Chain of responsibility Pattern)。
> 各位在這三個設計模式的挑戰題中，因為已經明確知道該任務的設計模式為何，因而可以很容易地知道要套什麼模式比較好。但是魔王題就不一樣了，你現在會收到一份莫名其妙的需求，然後你必須自己察覺需求中形成的 Forces，理性地在適合的地方套用設計模式。
> 你說⋯⋯「大老二撲克牌遊戲」不是實戰演練，是很幼稚的專案嗎？不，相信我，大多數企業專案面對的領域模型的邏輯複雜度都沒有比大老二來得困難，大老二撲克牌遊戲中無論是遊戲流程、牌型判斷還是人工智慧，都是一般企業商業邏輯難度的數倍以上。意即，如果你能寫得好大老二，企業中的商業邏輯對你來說幾乎是易如反掌。
> 並且，大老二撲克牌遊戲在行為面上的複雜度，形成了一共有 4~5 道的行為變動性 Forces，在類別圖上仔細查覺 Forces，然後再下去撰寫程式碼，你便會體會到舒適圈正在逐漸擴大。
> 另外，魔王題是附有嚴謹的輸入/輸出測資的，這是真槍實彈的演練，你必須在「嚴格的需求驗收」的程式碼限制之下，才能夠感受到更具體的 Forces。
> 通關魔王題的當下，正是你變強的過程！相信學院、相信我、相信自己！你應該要花多一點時間在這裡，回歸學生時期的自己，專心練等，讓自己變得更強吧！

需求大綱

你要開發一款「大老二」撲克牌遊戲 (Big-2)。正是因為遊戲中最大的數字是 2，所以這款遊戲被稱為大老二。在開發大老二的時候，你需要仔細地實現每一個遊戲規則，並且確定你設計的遊戲模組具備擴充性，可以在未來輕鬆地支援新的需求。
詞彙表 (Glossary)
大老二公司的老闆十分熟悉領域驅動設計 (Domain-Driven Design) 的觀念，他知道建立開發團隊一致認同的語言 (Ubiquitous Language) 才能大幅地提升合作的效率。因此，這份需求中也體貼地替你準備了相關詞彙表 (Glossary)，也許你可以先速讀一下每個專有名詞在大老二撲克領域中的對應概念，再往下閱讀詳細的遊戲規則。閱讀規則時如有疑惑可以再回到詞彙表中查詢相關概念。
Big-2：大老二撲克牌遊戲，正是我們想要你開發的遊戲。
* 玩家 (Player)：遊戲的參與者，可能為 AI 或是人類玩家 (Human Player)。
* 撲克牌 (Card)： 為 (數字、花色) 的組合。
* 數字 (Rank)： 撲克牌上的數字，為 {3,4,5,6,7,8,9,10,J,Q,K,A,2}中其中一項。
* 花色 (Suit)： 撲克牌上的花色，為 {梅花(♣),菱形(♦),愛心(♥),黑桃(♠)}中其中一項。
* 牌堆 (Deck)： 一副 52 張不同撲克牌的牌堆。
* 發牌 (Deal)： 玩家從牌堆中的頂部取走一張牌。
* 手牌 (Hand cards)： 玩家擁有的手牌，最少 0 張，最多 13 張。
* 牌型 (Card Pattern)： 撲克牌的組合。
* 打牌 (Play)： 玩家從手牌中打出合法牌型至檯面上的動作。
* 回合 (Round)： 遊戲會有多個回合，在每回合之中，四位玩家輪流打牌，直到有三位玩家連續喊出了 PASS。
* 頂牌 Top play： 檯面上目前最大的牌型。
* 頂牌玩家 Top player： 打出頂牌的玩家。
* 遊戲流程 (Game Flow)

#### 遊戲依序遵照以下流程進行：

遊戲中有四位玩家。遊戲開始之後就會輸入每個玩家的名稱 (Name)。在這份需求中，我們會使用數字 {0,1,2,3} 來索引這四位玩家。並且，假設目前輪到了玩家i(i+1)%4 的玩家。
將牌堆洗牌，並且將 52 張牌輪流發給四位玩家直到牌堆空 (Empty) 了為止。

接著開始遊戲的第一回合：
在第一回合中，由擁有梅花3的玩家首先出牌。此玩家必須打出一副合法且包含梅花3的牌型。打出來的牌型便成為目前的頂牌。
然後，下一輪的玩家可以決定要執行以下其一動作：
喊 PASS —— 放棄出牌機會，不打任何牌。
打出一副比頂牌還大的合法牌型。此新打出來的牌型便成為新的頂牌。
下一輪的玩家重複步驟 b，直到玩家們連續喊出了三個PASS。
第一回合結束後，開始下一回合。之後的每一回合都和第一回合有著相同的步驟和規則，不過多了以下規則：
每一回合結束之後，檯面上的牌會被清空，意即，清空頂牌。
上一回合的頂牌玩家將會成為新的回合的頂牌玩家，並且新的回合由頂牌玩家開始打牌，並且不能喊 PASS。
舉例來說，如果上一回合結束時的頂牌玩家為玩家 P，則在新的一回合時時，由玩家 P 
開始打牌。不斷地進入下一回合、下一輪，直到有任一玩家將所有的手牌打完為止，此時遊戲將立刻結束，並且宣告此玩家為遊戲的贏家 (Winner)。
牌型以及牌型的大小 (Card Patterns and Ordering)

初版的需求中一共有以下四種牌型。只有相同種類的牌型之間可以比較大小。
單張 (Single)：一張牌。大小比較規則：先比數字再比花色。
數字由小到大依序為：3<4<5<...<1<J<Q<K<A<2

3花色由小到大依序為：
梅花 < 菱形 < 愛心 < 黑桃
對大順子 (Straight)： 任何連續數字的五張牌；例如：3-4-5-6-7、10-J-Q-K-A、J-Q-K-A-2，或是 K-A-2-3-4。
大小葫蘆 (Full house)： 五張牌，其中以兩部分構成——三張數字相同的牌，和兩張數字相同的牌；例如： 3-3-3-2-2、A-A-A-7-7。
大小比較規則：以三張數字相同的牌中，數字最大的牌作為比較基準；例如：A-A-A-3-3 > 5-5-5-2-2。